-- Script kiểm tra Vampire Fang, Demonic Wisp, Leviathan Heart, Dark Fragment trong Blox Fruits
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local ReplicatedStorage = game:GetService("ReplicatedStorage")

-- Tạo GUI di chuyển được
local function createDraggableGUI()
    local ScreenGui = Instance.new("ScreenGui")
    ScreenGui.Name = "InventoryCheckGUI"
    ScreenGui.ResetOnSpawn = false
    ScreenGui.Parent = LocalPlayer:WaitForChild("PlayerGui")

    local Frame = Instance.new("Frame")
    Frame.Size = UDim2.new(0, 200, 0, 150)
    Frame.Position = UDim2.new(0.85, 0, 0.02, 0) -- Góc trên bên phải
    Frame.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
    Frame.BackgroundTransparency = 0.2
    Frame.BorderSizePixel = 2
    Frame.BorderColor3 = Color3.fromRGB(0, 170, 255)
    Frame.Active = true
    Frame.Draggable = true -- Cho phép kéo Frame
    Frame.Parent = ScreenGui

    local Title = Instance.new("TextLabel")
    Title.Size = UDim2.new(1, 0, 0, 25)
    Title.Position = UDim2.new(0, 0, 0, 0)
    Title.BackgroundColor3 = Color3.fromRGB(0, 170, 255)
    Title.TextColor3 = Color3.fromRGB(255, 255, 255)
    Title.Text = "Inventory Check"
    Title.Font = Enum.Font.GothamBlack
    Title.TextSize = 16
    Title.Parent = Frame

    local VampireFangLabel = Instance.new("TextLabel")
    VampireFangLabel.Name = "VampireFangLabel"
    VampireFangLabel.Size = UDim2.new(1, -10, 0, 25)
    VampireFangLabel.Position = UDim2.new(0, 5, 0, 30)
    VampireFangLabel.BackgroundTransparency = 1
    VampireFangLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    VampireFangLabel.Text = "Vampire Fang: Loading..."
    VampireFangLabel.Font = Enum.Font.GothamBlack
    VampireFangLabel.TextSize = 14
    VampireFangLabel.TextXAlignment = Enum.TextXAlignment.Left
    VampireFangLabel.Parent = Frame

    local DemonicWispLabel = Instance.new("TextLabel")
    DemonicWispLabel.Name = "DemonicWispLabel"
    DemonicWispLabel.Size = UDim2.new(1, -10, 0, 25)
    DemonicWispLabel.Position = UDim2.new(0, 5, 0, 55)
    DemonicWispLabel.BackgroundTransparency = 1
    DemonicWispLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    DemonicWispLabel.Text = "Demonic Wisp: Loading..."
    DemonicWispLabel.Font = Enum.Font.GothamBlack
    DemonicWispLabel.TextSize = 14
    DemonicWispLabel.TextXAlignment = Enum.TextXAlignment.Left
    DemonicWispLabel.Parent = Frame

    local LeviathanHeartLabel = Instance.new("TextLabel")
    LeviathanHeartLabel.Name = "LeviathanHeartLabel"
    LeviathanHeartLabel.Size = UDim2.new(1, -10, 0, 25)
    LeviathanHeartLabel.Position = UDim2.new(0, 5, 0, 80)
    LeviathanHeartLabel.BackgroundTransparency = 1
    LeviathanHeartLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    LeviathanHeartLabel.Text = "Leviathan Heart: Loading..."
    LeviathanHeartLabel.Font = Enum.Font.GothamBlack
    LeviathanHeartLabel.TextSize = 14
    LeviathanHeartLabel.TextXAlignment = Enum.TextXAlignment.Left
    LeviathanHeartLabel.Parent = Frame

    local DarkFragmentLabel = Instance.new("TextLabel")
    DarkFragmentLabel.Name = "DarkFragmentLabel"
    DarkFragmentLabel.Size = UDim2.new(1, -10, 0, 25)
    DarkFragmentLabel.Position = UDim2.new(0, 5, 0, 105)
    DarkFragmentLabel.BackgroundTransparency = 1
    DarkFragmentLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    DarkFragmentLabel.Text = "Dark Fragment: Loading..."
    DarkFragmentLabel.Font = Enum.Font.GothamBlack
    DarkFragmentLabel.TextSize = 14
    DarkFragmentLabel.TextXAlignment = Enum.TextXAlignment.Left
    DarkFragmentLabel.Parent = Frame

    return VampireFangLabel, DemonicWispLabel, LeviathanHeartLabel, DarkFragmentLabel
end

-- Hàm đếm các item
local function countItems()
    local inventory = ReplicatedStorage.Remotes.CommF_:InvokeServer("getInventory")
    local vampireFangCount, demonicWispCount, leviathanHeartCount, darkFragmentCount = 0, 0, 0, 0

    if inventory then
        for _, item in pairs(inventory) do
            if type(item) == "table" then
                if item.Name == "Vampire Fang" then
                    vampireFangCount = item.Count or 1
                elseif item.Name == "Demonic Wisp" then
                    demonicWispCount = item.Count or 1
                elseif item.Name == "Leviathan Heart" then
                    leviathanHeartCount = item.Count or 1
                elseif item.Name == "Dark Fragment" then
                    darkFragmentCount = item.Count or 1
                end
            end
        end
    end

    return vampireFangCount, demonicWispCount, leviathanHeartCount, darkFragmentCount
end

-- Hàm chính
local function main()
    local vampireLabel, demonicLabel, leviathanLabel, darkLabel = createDraggableGUI()

    task.spawn(function()
        while true do
            local success, vampireCount, demonicCount, leviathanCount, darkCount = pcall(countItems)
            if success then
                vampireLabel.Text = "Vampire Fang: " .. tostring(vampireCount)
                demonicLabel.Text = "Demonic Wisp: " .. tostring(demonicCount)
                leviathanLabel.Text = "Leviathan Heart: " .. tostring(leviathanCount)
                darkLabel.Text = "Dark Fragment: " .. tostring(darkCount)
            else
                vampireLabel.Text = "Vampire Fang: Error"
                demonicLabel.Text = "Demonic Wisp: Error"
                leviathanLabel.Text = "Leviathan Heart: Error"
                darkLabel.Text = "Dark Fragment: Error"
            end
            task.wait(1)
        end
    end)
end

local success, err = pcall(main)
if not success then
    print("Lỗi khởi tạo script: " .. err)
end
